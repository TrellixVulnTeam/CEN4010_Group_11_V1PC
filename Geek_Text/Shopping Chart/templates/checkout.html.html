<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shopping Cart</title>
  <script src="jquery-3.2.1.min.js"></script>
    <style>
        table{width:600px; text-align:center;
            border-collapse:collapse;
        }
        td,th{border:1px solid black}
        td[colspan="3"]{text-align:right;}
    </style>
</head>
<body>
    <table id="data">
        <thead>
        <tr>
            <th>ItemName</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Subtotal</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Book 1</td>
            <td>&yen;<span>4488</span></td>
            <td>
                <button>-</button>
                <span>1</span>
                <button>+</button>
            </td>
            <td>&yen;<span>44.50</span></td>
        </tr>
        <tr>
            <td>Book 2</td>
            <td>&yen;<span>52.88</span></td>
            <td>
                <button>-</button>
                <span>1</span>
                <button>+</button>
            </td>
            <td>&yen;<span>52.55</span></td>
        </tr>
        <tr>
            <td>Book 3</td>
            <td>&yen;<span>42.95</span></td>
            <td>
                <button>-</button>
                <span>1</span>
                <button>+</button>
            </td>
            <td>&yen;<span>35.95</span></td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
            <td colspan="3">Total:</td>
            <td>&yen;<span>14064</span></td>
        </tr>
        </tfoot>
    </table>


    <script>
        
$("button").click(function(event){

var elem = event.target;
if($(elem).text() == "+"){

var num = parseInt($(elem).prev().text());
$(elem).prev().text(num+1);
}else{
var num = parseInt($(elem).next().text());
$(elem).next().text(num-1);
// num=0
if(num == 0){
$(elem).next().text("0");
}
}

var number = parseInt($(elem).parent().children("span").text());

var price  = parseInt($(elem).parent().prev().children("span").text());

$(elem).parent().next().children("span").text(number*price);

var $spans = $("#data>tbody>tr :last-child>span");

var total = 0;
for(var i=0;i<$spans.length;i++){
var span = $spans[i];
var num = parseInt($(span).text());
total += num;
}
$("#data>tfoot>tr>td:last>span").text(total);
});
    </script>
</body>
</html>